<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Budget App</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
<link href="https://fonts.googleapis.com/css?family=Muli:900|Roboto:400,500,700" rel="stylesheet"><link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div id="app" :class="{ 'modal-active': modalActive }">
  <div class="budget">
    <h2 class="marketing">Budget App</h2>
    
    <div>
      <form class="budget__budget-input">
        <h2>Create Your Budget</h2>
        <input @input="formatAmount($event)" type="number" v-model="budgetAmount" placeholder="Budget Amount">
        <button @click.prevent="createBudget">Calculate</button>
      </form>

      <form class="budget__expense-input">
        <h2>{{ expenseTitle }} Expense</h2>
        <input type="text" v-model="expenseName" required placeholder="Expense Name">
        <input type="number" v-model="expenseAmount" required placeholder="Expense Amount">
        <button @click.prevent="onExpenseSubmit">{{ expenseSubmit }} Expense</button>
      </form>
    </div>
    
    <div class="budget__details">
      <div class="budget__item">
        <h2 class="budget__item-amount">${{ displayedBudget }}</h2>
        <span class="budget__item-label">Budget</span>
      </div>
      
      <div class="budget__item">
        <h2 class="budget__item-amount">${{ expenses }}</h2>
        <span class="budget__item-label">Expenses</span>
      </div>
      
      <div class="budget__item">
        <h2 class="budget__item-amount">${{ balance }}</h2>
        <span class="budget__item-label">Balance</span>
      </div>
      
      <div class="budget__transactions">
        <h1>Transactions</h1>
        <table>
          <thead>
            <th>Name</th>
            <th>Amount</th>
            <th>Edit</th>
            <th>Delete</th>
          </thead>
          <tbody>
            <tr v-for="(trans, i) in transactions">
              <td>{{ trans.name }}</td>
              <td>{{ parseFloat(trans.amount).toFixed(2) }}</td>
              <td>
                <a href="#" @click="editTransaction(i)"><i class="fas fa-pen"></i></a>
              </td>
              <td>
                <a href="#" @click="openDeleteModal(i)"><i class="fas fa-trash-alt"></i></a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div v-if="modalActive" class="delete__modal">
    <p>Are you sure you want to delete this transaction?</p>
    <div class="delete__modal-buttons">
      <button @click="deleteTransaction">OK</button>
      <button @click="closeDeleteModal">Cancel</button>
    </div>
  </div>
</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.21/vue.min.js'></script><script  src="./script.js"></script>

</body>
</html>
